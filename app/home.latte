{layout 'layout.latte'}
{block title}Domů{/block}
{block body}
   <div class="page-header">
      <div class="container">
         <h1>🚀 Profesionální správa záznamů</h1>
         <p>Moderní aplikace pro import, zobrazení a správu databázových dat</p>
      </div>
   </div>

   <div class="container">
      <!-- Quick Stats -->
      <div class="stats">
         <div class="stat-card">
            <div class="stat-value" id="totalRecords">0</div>
            <div class="stat-label">Celkem záznamů</div>
         </div>
         <div class="stat-card">
            <div class="stat-value" id="markedRecords">0</div>
            <div class="stat-label">Označeno</div>
         </div>
         <div class="stat-card">
            <div class="stat-value">100%</div>
            <div class="stat-label">Bezpečnost</div>
         </div>
         <div class="stat-card">
            <div class="stat-value">⚡</div>
            <div class="stat-label">Rychlost</div>
         </div>
      </div>

      <!-- Main Features -->
      <div class="features">
         <div class="feature-card card-hover">
            <div class="feature-icon">📥</div>
            <h3>Import dat</h3>
            <p>Bezpečné stažení dat ze vzdáleného JSON zdroje s automatickou validací a ochranou proti duplicitám</p>
            <a href="/download" class="btn btn-primary">
               <span>Importovat data</span>
               <span>→</span>
            </a>
         </div>

         <div class="feature-card card-hover">
            <div class="feature-icon">📊</div>
            <h3>Správa tabulky</h3>
            <p>Interaktivní zobrazení všech záznamů s pokročilým řazením a filtrováním pro snadnou práci s daty</p>
            <a href="/tabulka" class="btn btn-primary">
               <span>Zobrazit tabulku</span>
               <span>→</span>
            </a>
         </div>

         <div class="feature-card card-hover">
            <div class="feature-icon">🎯</div>
            <h3>Označování a export</h3>
            <p>Pokročilé označování záznamů s perzistentním ukládáním a možností exportu do různých formátů</p>
            <a href="/tabulka" class="btn btn-primary">
               <span>Spravovat záznamy</span>
               <span>→</span>
            </a>
         </div>
      </div>

      <!-- Technical Features -->
      <div class="card">
         <h2>🛡️ Technické vlastnosti</h2>
         <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
            <div>
               <h4 style="color: var(--primary); margin-bottom: 0.5rem;">🔒 Bezpečnost</h4>
               <ul style="list-style: none; padding: 0; margin: 0;">
                  <li>✅ SQL Injection prevence</li>
                  <li>✅ XSS ochrana</li>
                  <li>✅ Validace vstupních dat</li>
                  <li>✅ Bezpečné session management</li>
               </ul>
            </div>
            <div>
               <h4 style="color: var(--primary); margin-bottom: 0.5rem;">⚡ Výkon</h4>
               <ul style="list-style: none; padding: 0; margin: 0;">
                  <li>✅ Cachování vzdálených dat</li>
                  <li>✅ Optimalizované databázové dotazy</li>
                  <li>✅ AJAX pro lepší UX</li>
                  <li>✅ Responzivní design</li>
               </ul>
            </div>
            <div>
               <h4 style="color: var(--primary); margin-bottom: 0.5rem;">🚀 Moderní technologie</h4>
               <ul style="list-style: none; padding: 0; margin: 0;">
                  <li>✅ PHP 8.1+ s Dibi</li>
                  <li>✅ Vue.js 3 pro reaktivitu</li>
                  <li>✅ SCSS pro styling</li>
                  <li>✅ MariaDB s indexy</li>
               </ul>
            </div>
         </div>
      </div>

      <!-- Quick Actions -->
      <div class="card" style="margin-top: 2rem; text-align: center;">
         <h3>🎯 Rychlé akce</h3>
         <div class="actions" style="justify-content: center; margin-top: 1.5rem;">
            <a href="/download" class="btn btn-primary btn-lg">
               📥 Importovat nová data
            </a>
            <a href="/tabulka" class="btn btn-secondary btn-lg">
               📊 Zobrazit všechna data
            </a>
         </div>
      </div>
   </div>

   <script>
   // Load real stats when available
   $(document).ready(function() {
      // This could fetch real statistics from an API
      fetch('/api/stats')
         .then(response => response.json())
         .then(data => {
            if (data.total) $('#totalRecords').text(data.total);
            if (data.marked) $('#markedRecords').text(data.marked);
         })
         .catch(() => {
            // Fallback - try to get stats from other pages if available
            const stored = localStorage.getItem('appStats');
            if (stored) {
               const stats = JSON.parse(stored);
               $('#totalRecords').text(stats.total || 0);
               $('#markedRecords').text(stats.marked || 0);
            }
         });
   });
   </script>
{/block}